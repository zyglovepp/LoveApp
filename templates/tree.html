<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Love APP - æƒ…æ„Ÿæ ‘</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <!-- é¡¶éƒ¨å¯¼èˆª -->
        <nav class="navbar">
            <a href="{{ url_for('index') }}" class="back-btn"><i class="fas fa-arrow-left"></i></a>
            <h1 class="logo">æˆ‘ä»¬çš„æ‹çˆ±å°æ ‘</h1>
        </nav>

        <!-- ä¸»å†…å®¹åŒºåŸŸ -->
        <main class="main-content">
            <section class="tree-detail-section">
                <div class="tree-detail-container">
                    <!-- æƒ…æ„Ÿæ ‘å¤§å›¾ -->
                    <div class="tree-large-image">
                        {% if tree_status.stage == 'seed' %}
                            <img src="{{ url_for('static', filename='images/tree_seed.png') }}" alt="ç§å­">
                        {% elif tree_status.stage == 'sprout' %}
                            <img src="{{ url_for('static', filename='images/tree_sprout.png') }}" alt="å‘èŠ½">
                        {% elif tree_status.stage == 'leaf' %}
                            <img src="{{ url_for('static', filename='images/tree_leaf.png') }}" alt="é•¿å¶">
                        {% elif tree_status.stage == 'flower' %}
                            <img src="{{ url_for('static', filename='images/tree_flower.png') }}" alt="å¼€èŠ±">
                        {% elif tree_status.stage == 'fruit' %}
                            <img src="{{ url_for('static', filename='images/tree_fruit.png') }}" alt="ç»“æœ">
                        {% endif %}
                    </div>
                    
                    <!-- æˆé•¿ä¿¡æ¯ -->
                    <div class="tree-growth-info">
                        <h2>æˆé•¿å†ç¨‹</h2>
                        <div class="growth-stages">
                            <div class="stage-item {{ 'active' if tree_status.stage == 'seed' or tree_status.water_count >= 0 }}">
                                <div class="stage-icon"><i class="fas fa-seedling"></i></div>
                                <div class="stage-name">ç§å­</div>
                                <div class="stage-progress">{{ tree_status.water_count }}/0</div>
                            </div>
                            <div class="stage-divider"></div>
                            <div class="stage-item {{ 'active' if tree_status.stage == 'sprout' or tree_status.water_count >= 5 }}">
                                <div class="stage-icon"><i class="fas fa-seedling"></i></div>
                                <div class="stage-name">å‘èŠ½</div>
                                <div class="stage-progress">{{ tree_status.water_count }}/5</div>
                            </div>
                            <div class="stage-divider"></div>
                            <div class="stage-item {{ 'active' if tree_status.stage == 'leaf' or tree_status.water_count >= 15 }}">
                                <div class="stage-icon"><i class="fas fa-leaf"></i></div>
                                <div class="stage-name">é•¿å¶</div>
                                <div class="stage-progress">{{ tree_status.water_count }}/15</div>
                            </div>
                            <div class="stage-divider"></div>
                            <div class="stage-item {{ 'active' if tree_status.stage == 'flower' or tree_status.water_count >= 30 }}">
                                <div class="stage-icon"><i class="fas fa-pagelines"></i></div>
                                <div class="stage-name">å¼€èŠ±</div>
                                <div class="stage-progress">{{ tree_status.water_count }}/30</div>
                            </div>
                            <div class="stage-divider"></div>
                            <div class="stage-item {{ 'active' if tree_status.stage == 'fruit' or tree_status.water_count >= 50 }}">
                                <div class="stage-icon"><i class="fas fa-apple-alt"></i></div>
                                <div class="stage-name">ç»“æœ</div>
                                <div class="stage-progress">{{ tree_status.water_count }}/50</div>
                            </div>
                        </div>
                        
                        <div class="tree-stats">
                            <div class="stat-item">
                                <div class="stat-value">{{ tree_status.water_count }}</div>
                                <div class="stat-label">æµ‡æ°´æ¬¡æ•°</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value">{{ {'seed': 'ç§å­', 'sprout': 'å‘èŠ½', 'leaf': 'é•¿å¶', 'flower': 'å¼€èŠ±', 'fruit': 'ç»“æœ'}.get(tree_status.stage, 'ç§å­') }}</div>
                                <div class="stat-label">å½“å‰é˜¶æ®µ</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value">{{ tree_status.last_water_date if tree_status.last_water_date else 'è¿˜æœªæµ‡æ°´' }}</div>
                                <div class="stat-label">æœ€åæµ‡æ°´</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- æˆé•¿æç¤º -->
                    <div class="growth-tips">
                        <h3>ğŸ’¡ æˆé•¿å°è´´å£«</h3>
                        <p>
                            {% if tree_status.stage == 'seed' %}
                                ç§å­éœ€è¦ä½ çš„çˆ±æ¥å‘èŠ½ï¼Œå¿«å»è®°å½•ç¬¬ä¸€æ¬¡ä¸ºå¯¹æ–¹åšçš„äº‹æƒ…å§ï¼
                            {% elif tree_status.stage == 'sprout' %}
                                å°æ ‘å·²ç»å‘èŠ½äº†ï¼ç»§ç»­ç”¨çˆ±å¿ƒæµ‡çŒï¼Œå®ƒä¼šèŒå£®æˆé•¿çš„ï½
                            {% elif tree_status.stage == 'leaf' %}
                                å°æ ‘é•¿å‡ºäº†å«©ç»¿çš„å¶å­ï¼æ¯ä¸€æ¬¡ä»˜å‡ºéƒ½ä¼šè®©å®ƒæ›´åŠ èŒ‚ç››ã€‚
                            {% elif tree_status.stage == 'flower' %}
                                å°æ ‘å¼€èŠ±äº†ï¼ç¾ä¸½çš„èŠ±æœµè±¡å¾ç€ä½ ä»¬çš„çˆ±æƒ…æ­£åœ¨ç»½æ”¾ã€‚
                            {% elif tree_status.stage == 'fruit' %}
                                å¤ªæ£’äº†ï¼å°æ ‘ç»“æœäº†ï¼ä½ å¯ä»¥ç”¨æœå®å…‘æ¢ç‰¹åˆ«çš„å¥–åŠ±å“¦ï½
                            {% endif %}
                        </p>
                        <a href="{{ url_for('record_page') }}" class="water-btn">
                            <i class="fas fa-tint"></i> å»æµ‡æ°´
                        </a>
                    </div>
                </div>
            </section>
        </main>

        <!-- é¡µè„š -->
        <footer class="footer">
            <p>Love APP - è®©çˆ±æ›´çº¯ç²¹ â¤ï¸</p>
        </footer>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>